% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_holobiont_power.R
\name{simulate_holobiont_power}
\alias{simulate_holobiont_power}
\title{Simulate power for detecting env–holobiont effects}
\usage{
simulate_holobiont_power(
  env_space,
  host_model,
  components,
  n_groups_use,
  n_per_group,
  n_replicates = 100,
  alpha = 0.05
)
}
\arguments{
\item{env_space}{An object created by \code{define_env_space()}.}

\item{host_model}{Host model object from \code{define_host_model()}.
(Currently included for API consistency; host variance is not yet
simulated.)}

\item{components}{A named list describing holobiont components and their
environment-driven R², exactly as used in
\code{simulate_holobiont_components()}.}

\item{n_groups_use}{Integer vector with candidate numbers of groups/sites
to sample from \code{env_space}.}

\item{n_per_group}{Integer vector with candidate numbers of individuals
per group.}

\item{n_replicates}{Number of simulation replicates per design.}

\item{alpha}{Significance level for detecting any environmental effect.}
}
\value{
A data.frame with one row per design and columns:
\itemize{
\item \code{n_groups}, \code{n_per_group}, \code{N} – design size,
\item \code{power_env} – mean power across components,
\item one column per component with its individual power.
}
The object is given class \code{"holobiont_power"}.
}
\description{
This function explores how design choices (number of groups/sites and
individuals per group) affect the power to detect environmental effects
on holobiont components.
}
\details{
It uses three main ingredients:
\itemize{
\item an \code{env_space} object from \code{define_env_space()},
\item a \code{host_model} from \code{define_host_model()} (currently
only used to distinguish clone vs natural; host variance is not
yet simulated),
\item a component specification list (the same structure you pass to
\code{simulate_holobiont_components()}).
}

For each combination of \code{n_groups_use} and \code{n_per_group}, the
function:
\enumerate{
\item Simulates individual-level environmental values around the group
means in \code{env_space}, using the within-group SDs stored there.
\item Simulates holobiont component values from the specified R²
relationships using \code{simulate_holobiont_components()}.
\item Fits simple linear models of each component on all environmental
variables, and records whether at least one environmental
coefficient is significant at \code{alpha}.
\item Estimates power for each component as the fraction of replicates
with at least one significant environmental effect.
}
}
