% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_holobiont_components.R
\name{simulate_holobiont_components}
\alias{simulate_holobiont_components}
\title{Simulate multiple holobiont components driven by environment}
\usage{
simulate_holobiont_components(env, components, seed = NULL)
}
\arguments{
\item{env}{Numeric vector, matrix, or data.frame of environmental
variables. Each column is a predictor (e.g. temperature, water).
This is passed directly to \code{simulate_env_response()}.}

\item{components}{Named list describing each holobiont component.
Each element should be a list with at least:
\itemize{
\item \code{r2_env}: either a single numeric (total R² for this
component) or a numeric vector per environmental variable,
as in \code{simulate_env_response()}.
\item \code{total_var}: optional, total variance of the component
(default 1 if not provided).
}

Example:
\preformatted{
  components <- list(
    root_bacteria = list(
      r2_env    = c(temp = 0.30, water = 0.10),
      total_var = 1
    ),
    root_fungi = list(
      r2_env    = c(temp = 0.20),
      total_var = 1
    ),
    herbivores = list(
      r2_env    = c(temp = 0.05, water = 0.25)
    )
  )
  }}

\item{seed}{Optional integer. If provided, used as a base seed.
Each component will internally use \code{seed + i} (for component
i) to remain reproducible but independent.}
}
\value{
A data.frame with one column per component and as many
rows as there are observations in \code{env}.
}
\description{
This function simulates several holobiont response variables
(e.g. root bacteria, root fungi, herbivores, "whole holobiont")
from one or more environmental predictors. Each component can
have its own literature-based effect sizes (R² values) for
the environmental variables.
}
\details{
Under the hood, it calls \code{simulate_env_response()} once
for each component and returns all simulated responses in a
single data frame.
}
\examples{
set.seed(1)
n <- 100
temp  <- seq(15, 25, length.out = n)
water <- seq(0.3, 0.9, length.out = n)
env   <- cbind(temp = temp, water = water)

components <- list(
  root_bacteria = list(
    r2_env    = c(temp = 0.30, water = 0.10),
    total_var = 1
  ),
  root_fungi = list(
    r2_env    = c(temp = 0.20, water = 0.05),
    total_var = 1
  )
)

holo <- simulate_holobiont_components(env, components, seed = 123)
str(holo)
summary(lm(root_bacteria ~ temp + water, data = cbind(holo, env)))

}
